<html>
    <head>
        <title>gemfire 0.1-SNAPSHOT - Reference Documentation</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Style" charset="utf-8"/>
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    </head>
    <body class="body">
        <div id="header">
            <div class="images"><br/><br/>
                <a href="http://grails.org" target="_blank"><img alt="The Grails Framework" src="../img/grails.png" border="0"/></a>
                <span style="right:30px; top:20px; position:absolute;">
                    <a href="../index.html" target="_top">Frames</a> | <a href="index.html" target="_top">No Frames</a><br/><br/>
                    <a href="http://springsource.com" target="_blank"><img alt="SpringSource - A Division of VMware" src="../img/springsource-logo.png" border="0"/></a>
                </span>
            </div>
            <div class="message">gemfire</div>
            <h1>gemfire - Reference Documentation</h1>
            <p><strong>Authors:</strong> </p>
            <p><strong>Version:</strong> 0.1-SNAPSHOT</p>
            <em></em>
        </div>

        <div id="toc">
            <h2>Table of Contents</h2>
            <div class="tocItem" style="margin-left:0px"><a href="#1. Introduction To The GemFire Plugin">1. Introduction To The GemFire Plugin</a></div><div class="tocItem" style="margin-left:0px"><a href="#2. Cache Regions">2. Cache Regions</a></div><div class="tocItem" style="margin-left:10px"><a href="#2.1 Cache Region Configuration">2.1 Cache Region Configuration</a></div>
        </div>
        <div id="content">
            <h1><a name="1. Introduction To The GemFire Plugin">1. Introduction To The GemFire Plugin</a></h1>The GemFire plugin provides integration with the GemFire in-memory distributed
data management platform.<p class="paragraph"/>This user guide describes details on configuring and using GemFire specifically 
in the context of a Grails application.  Complete documentation on GemFire is
available at <a href="http://www.gemstone.com/products/gemfire" target="blank">http://www.gemstone.com/products/gemfire</a>.
<h1><a name="2. Cache Regions">2. Cache Regions</a></h1>GemFire allows your data to be organized within a cache using data regions.  The
Grails GemFire plugin provides a DSL for describing the regions available to
the application and provides a simple convention based approach to accessing
regions.<h2><a name="2.1 Cache Region Configuration">2.1 Cache Region Configuration</a></h2>GemFire regions may be described in <code>Config.groovy</code> by assigning a value to
the <code>grails.gemfire.regions</code> property.  The value should be a closure which
contains GemFire Region DSL code.  Details about the DSL are described below.<p class="paragraph"/>The code below declares 2 regions with the names <code>region1</code> and <code>region2</code>.<p class="paragraph"/><div class="code"><pre>// grails&#45;app/conf/Config.groovy
grails.gemfire.region = &#123;<p class="paragraph"/>    // declare region1
    region1()<p class="paragraph"/>    // declare region2
    region2()
&#125;</pre></div><p class="paragraph"/>Regions may be configured with a syntax like this:<p class="paragraph"/><div class="code"><pre>// grails&#45;app/conf/Config.groovy<p class="paragraph"/><span class="java&#45;keyword">import</span> com.gemstone.gemfire.cache.DataPolicy<p class="paragraph"/>grails.gemfire.region = &#123;<p class="paragraph"/>    region1 &#123;
        // configure region1&#8230;
        dataPolicy = DataPolicy.REPLICATE
        publisher = <span class="java&#45;keyword">false</span>
    &#125;<p class="paragraph"/>    region2 &#123;
        dataPolicy = DataPolicy.PARTITION
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>The DSL supports all of the configuration attributes which are supported by the 
<a href="http://www.gemstone.com/docs/6.0.1/product/docs/japi/com/gemstone/gemfire/cache/AttributesFactory.html" target="blank">AttributesFactory</a>.<p class="paragraph"/>The DSL provides some syntax to simplify the configuration and eliminate 
explicit references to GemFire classes like <code>DataPolicy</code>.  The previous 
example could be written like this:<p class="paragraph"/><div class="code"><pre>// grails&#45;app/conf/Config.groovy<p class="paragraph"/>grails.gemfire.region = &#123;<p class="paragraph"/>    region1 &#123;
        // configure region1&#8230;
        dataPolicy = REPLICATE
        publisher = <span class="java&#45;keyword">false</span>
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>The following table lists all of the properties which may be referenced
directly without a class prefix.<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Class</strong></th><th><strong class="bold">Property Name</strong></th></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.DataPolicy</td><td>EMPTY</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.DataPolicy</td><td>NORMAL</td></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.DataPolicy</td><td>PARTITION</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.DataPolicy</td><td>PERSISTENT_REPLICATE</td></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.DataPolicy</td><td>PRELOADED</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.DataPolicy</td><td>REPLICATE</td></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.ExpirationAction</td><td>DESTROY</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.ExpirationAction</td><td>INVALIDATE</td></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.ExpirationAction</td><td>LOCAL_DESTROY</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.ExpirationAction</td><td>LOCAL_INVALIDATE</td></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.Scope</td><td>DISTRIBUTED_ACK</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.Scope</td><td>DISTRIBUTED_NO_ACK</td></tr><tr class="table-odd"><td>com.gemstone.gemfire.cache.Scope</td><td>GLOBAL</td></tr><tr class="table-even"><td>com.gemstone.gemfire.cache.Scope</td><td>LOCAL</td></tr></table><p class="paragraph"/>Several properties require an instance of the 
<a href="http://www.gemstone.com/docs/6.0.1/product/docs/japi/com/gemstone/gemfire/cache/ExpirationAttributes.html" target="blank">ExpirationAttributes</a>
class.  These include <code>regionTimeToLive</code>, <code>regionIdleTimeout</code>, <code>entryTimeToLive</code> and <code>entryIdleTimeout</code>.  Configuring those
properties might look something like this:<p class="paragraph"/><div class="code"><pre>// grails&#45;app/conf/Config.groovy
<span class="java&#45;keyword">import</span> com.gemstone.gemfire.cache.ExpirationAction
<span class="java&#45;keyword">import</span> com.gemstone.gemfire.cache.ExpirationAttributes<p class="paragraph"/>grails.gemfire.region = &#123;<p class="paragraph"/>    region1 &#123;
        entryTimeToLive = <span class="java&#45;keyword">new</span> ExpirationAttributes(120)
        entryTimeToIdle = <span class="java&#45;keyword">new</span> ExpirationAttributes(200, ExpirationAction.DESTROY)
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>The DSLS allows the explicit references to the <code>ExpirationAction</code> and <code>ExpirationAttributes</code> classes 
to be removed.<p class="paragraph"/><div class="code"><pre>// grails&#45;app/conf/Config.groovy<p class="paragraph"/>grails.gemfire.region = &#123;<p class="paragraph"/>    region1 &#123;
        entryTimeToLive = expirationAttributes(120)
        entryTimeToIdle = expirationAttributes(200, DESTROY)
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/>
        </div>
        <div id="footer">
             
        </div>
    </body>
</html>
